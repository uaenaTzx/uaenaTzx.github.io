<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://uaenaTzx.github.io</id>
    <title>Uaena_blog</title>
    <updated>2022-05-23T13:44:11.332Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://uaenaTzx.github.io"/>
    <link rel="self" href="https://uaenaTzx.github.io/atom.xml"/>
    <subtitle>èœç‹—tzxçš„ç¬”è®°åšå®¢ğŸ•</subtitle>
    <logo>https://uaenaTzx.github.io/images/avatar.png</logo>
    <icon>https://uaenaTzx.github.io/favicon.ico</icon>
    <rights>All rights reserved 2022, Uaena_blog</rights>
    <entry>
        <title type="html"><![CDATA[classå±æ€§èƒ½å¦æ‹¥æœ‰å¤šä¸ªå±æ€§å€¼ï¼Ÿ]]></title>
        <id>https://uaenaTzx.github.io/post/class-shu-xing-neng-fou-yong-you-duo-ge-shu-xing-zhi/</id>
        <link href="https://uaenaTzx.github.io/post/class-shu-xing-neng-fou-yong-you-duo-ge-shu-xing-zhi/">
        </link>
        <updated>2022-05-23T11:59:24.000Z</updated>
        <content type="html"><![CDATA[<p>ç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œä½†æ˜¯å½“<code>class</code>æ‹¥æœ‰å¤šä¸ªå±æ€§å€¼æ—¶ï¼Œä¼šå‡ºç°ä»€ä¹ˆå˜åŒ–å‘¢ï¼Ÿ<br>
ç®€è€Œè¨€ä¹‹ï¼Œå¤šä¸ªæ ·å¼<font color="red">(ç”¨ç©ºæ ¼åˆ†å¼€)</font>å®šä¹‰æœ€ç»ˆä¼šå åŠ åœ¨ä¸€èµ·åº”ç”¨åˆ°å½“å‰å…ƒç´ ğŸ‘¦ï¼Œè¿™æ ·å°±æŠŠå¤æ‚çš„æ ·å¼æ‹†åˆ†å¼€æ¥ï¼Œä¾¿äºåç»­çš„ä¿®æ”¹è°ƒæ•´ã€‚</p>
<p>æ¯”è¾ƒå¸¸ç”¨çš„å°±æœ‰<code>clearfix</code>æ“ä½œ(æ­¤å¤„å‚è€ƒã€Šcssé«˜åº¦å¡Œé™·çš„è§£å†³ã€‹)<br>
ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>&lt;div class=&quot;box1 clearfix&quot;&gt;
    &lt;div class=&quot;box2&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;style type=&quot;text/css&quot;&gt;
.box1 {
  border: 10px red solid;
}

.box2 {
  width: 100px;
  height: 100px;
  background-color: blue;
  float: left;
}

/* è¦åŠ çš„å±æ€§ */
.clearfix:after {
  content: &quot;&quot;; /* æ·»åŠ å†…å®¹ä¸ºç©º */
  clear: both; /* æ¸…æ¥šä¸¤ä¾§æµ®åŠ¨ */
  display: block; /* è½¬æ¢å…ƒç´ ç±»å‹ä¸ºå—å…ƒç´  */
  height: 0;
  overflow: hidden; /* æº¢å‡ºéšè—å±æ€§ */
  visibility: hidden; /* éšè—å±æ€§ */
}
&lt;/style&gt;
</code></pre>
<p>å¯ä»¥è§‚å¯Ÿåˆ°<code>&lt;div class=&quot;box1 clearfix&quot;&gt;</code>ä¸­ï¼Œä¸¤ä¸ªclassçš„å±æ€§å€¼å¾—æ ·å¼æœ€åä¼šåˆå¹¶ï¼Œå·§å¦™åœ°è§£å†³äº†é«˜åº¦å¡Œé™·é—®é¢˜</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[cssé«˜åº¦å¡Œé™·çš„è§£å†³]]></title>
        <id>https://uaenaTzx.github.io/post/css-gao-du-ta-xian-de-jie-jue/</id>
        <link href="https://uaenaTzx.github.io/post/css-gao-du-ta-xian-de-jie-jue/">
        </link>
        <updated>2022-05-23T06:24:45.000Z</updated>
        <content type="html"><![CDATA[<h1 id="ä¸€-ä»€ä¹ˆæ˜¯é«˜åº¦å¡Œé™·">ä¸€ã€ä»€ä¹ˆæ˜¯é«˜åº¦å¡Œé™·ï¼Ÿ</h1>
<p>å½“çˆ¶å…ƒç´ ä¸è®¾ç½®é«˜åº¦<font color="red">(ç”±å­å…ƒç´ é«˜åº¦å†³å®š)</font>ä¸”å­å…ƒç´ æµ®åŠ¨åï¼Œçˆ¶å…ƒç´ å°±ä¼šé«˜åº¦å¡Œé™·ï¼Œè¿™æ ·ä¼šå¯¼è‡´æ•´ä¸ªé¡µé¢çš„å¸ƒå±€æ··ä¹±ã€‚</p>
<h1 id="äºŒ-å¦‚ä½•è§£å†³é«˜åº¦å¡Œé™·">äºŒã€å¦‚ä½•è§£å†³é«˜åº¦å¡Œé™·ï¼Ÿ</h1>
<p>ä»¥ä¸‹ï¼Œæ€»ç»“äº†å‡ ç§æ–¹æ³•ï¼š</p>
<p>â‘ ç»™çˆ¶å…ƒç´ è®¾ç½®å›ºå®šçš„é«˜åº¦<br>
=&gt; å¼Šç«¯ï¼šæ— æ³•ä½¿çˆ¶å…ƒç´ é«˜åº¦è‡ªé€‚åº”</p>
<p>â‘¡ç»™çˆ¶å…ƒç´ è®¾ç½®<code>overflowï¼šhidden</code>ï¼Œè§£å†³é«˜åº¦å¡Œé™·å¹¶èƒ½å®ç°é«˜åº¦è‡ªé€‚åº”çš„æ–¹æ³•<br>
=&gt; å¼Šç«¯ï¼šå½“å†…å®¹è¶…å‡ºçˆ¶å…ƒç´ ä»¥å¤–æ—¶ï¼Œè¶…å‡ºçš„å†…å®¹å°±ä¼šè¢«éšè—ï¼</p>
<p>â‘¢æ·»åŠ ä¸€ä¸ªç©ºå…ƒç´ ï¼Œå¹¶ä¸”ç»™ä»–è®¾ç½®æ¸…é™¤æµ®åŠ¨çš„å±æ€§(<code>clear:both</code>)<br>
=&gt; å¼Šç«¯ï¼šä¼šæ·»åŠ å¾ˆå¤šç©ºæ ‡è®°ï¼Œå¢åŠ ç»“æ„è´Ÿæ‹…ï¼Œäº§ç”Ÿä»£ç å†—ä½™ï¼›<br>
<strong>æ³¨ï¼šå¸ƒå±€æ—¶å¯ä»¥é€šè¿‡ç©ºå…ƒç´ (å¦‚ï¼šel-col)å·§å¦™åœ°è¿›è¡Œå ä½ï¼Œå¯ä»¥å¯¹è¾¹æ¡†è®¾ç½®<code>border:1px solid white</code></strong></p>
<p>â‘£å°†çˆ¶å…ƒç´ ç±»å‹è½¬æ¢ä¸ºè¡¨æ ¼(ç»™çˆ¶å…ƒç´ æ·»åŠ <code>displayï¼štable</code>)<br>
=&gt; å¼Šç«¯ï¼šä¼šæ”¹å˜å½“å‰å…ƒç´ çš„å…ƒç´ ç±»å‹ï¼Œå¼•å‘å…¶ä»–é—®é¢˜</p>
<p>â‘¤é€šè¿‡<code>:after</code>ä¼ªç±»å…ƒç´ æ·»åŠ ä¸€ä¸ªç©ºç™½çš„å—å…ƒç´ ï¼ŒåŒæ—¶ç»™çˆ¶ç±»å…ƒç´ åŠ ä¸Šclear_fixçš„ç±»å<br>
=&gt; æ¨èä½¿ç”¨ï¼Œå‡ ä¹æ²¡æœ‰å¼Šç«¯<br>
ç›¸å…³ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>&lt;div class=&quot;box1 clearfix&quot;&gt;
   &lt;div class=&quot;box2&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;style type=&quot;text/css&quot;&gt;
.box1 {
 border: 10px red solid;
}

.box2 {
 width: 100px;
 height: 100px;
 background-color: blue;
 float: left;
}

/* è¦åŠ çš„å±æ€§ */
.clearfix:after {
 content: &quot;&quot;; /* æ·»åŠ å†…å®¹ä¸ºç©º */
 clear: both; /* æ¸…æ¥šä¸¤ä¾§æµ®åŠ¨ */
 display: block; /* è½¬æ¢å…ƒç´ ç±»å‹ä¸ºå—å…ƒç´  */
 height: 0;
 overflow: hidden; /* æº¢å‡ºéšè—å±æ€§ */
 visibility: hidden; /* éšè—å±æ€§ */
}
&lt;/style&gt;
</code></pre>
<p>ä»£ç è‡³æ­¤ï¼Œåˆå‡ºç°äº†å¾ˆå¤šå¯ä»¥å»å­¦ä¹ çš„é—®é¢˜ï¼Œå¦‚ä¼ªç±»çš„ä½¿ç”¨ã€<code>class</code>å¸¦å¤šå±æ€§å€¼ã€<code>visibility</code>ä¸<code>display</code>çš„åŒºåˆ«ã€‚è¿™ä¸‰ä¸ªé—®é¢˜å°†ä¼šåœ¨åç»­çš„æ–‡ç« ä¸­ä¸€ä¸€æåŠã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[asyncã€awaitå‡½æ•°çš„åŸç†è§£æ]]></title>
        <id>https://uaenaTzx.github.io/post/asyncawait-han-shu-de-yuan-li-jie-xi/</id>
        <link href="https://uaenaTzx.github.io/post/asyncawait-han-shu-de-yuan-li-jie-xi/">
        </link>
        <updated>2022-05-15T14:28:17.000Z</updated>
        <content type="html"><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯async-awaitå‡½æ•°">ä»€ä¹ˆæ˜¯asyncã€awaitå‡½æ•°</h1>
<p>ç®€è€Œè¨€ä¹‹ï¼Œ<code>async/await</code>æ˜¯é’ˆå¯¹jså¼‚æ­¥é—®é¢˜çš„ä¸€ç§å¼ºæœ‰åŠ›çš„å¤„ç†æ–¹æ³•ã€‚</p>
<p>å¦‚æœå°†<code>async</code>æ”¾åœ¨å‡½æ•°å£°æ˜ä¹‹å‰ï¼Œåˆ™è¡¨æ˜è¯¥å‡½æ•°æ˜¯ä¸€ä¸ªä¼šè¿”å›<code>Promise</code>å¯¹è±¡çš„å¼‚æ­¥å‡½æ•°ã€‚<br>
<code>await</code>å¿…é¡»å’Œ<code>async</code>ä¸€èµ·ä½¿ç”¨<font color="red">(æœ‰<code>await</code>å¿…æœ‰<code>async</code>ï¼Œæœ‰<code>async</code>ä¸ä¸€å®šæœ‰<code>await</code>ğŸŒ)</font><br>
å¦‚æœæˆ‘ä»¬å°†<code>await</code>æ”¾åœ¨å¼‚æ­¥å‡½æ•°è°ƒç”¨ä¹‹å‰ï¼Œåˆ™å½“ä»£ç æ‰§è¡Œåˆ°æ­¤å¤„çš„æ—¶å€™ï¼Œä»£ç å°†ä¼šæš‚åœï¼Œç­‰åˆ°å¼‚æ­¥å‡½æ•°æ‰§è¡Œå®Œæˆåï¼Œæ‰ä¼šç»§ç»­å‘ä¸‹æ‰§è¡Œâ€”â€”<font color="red">è¿™æ ·å°±å®ç°äº†å¼‚æ­¥å‡½æ•°çš„åŒæ­¥æ‰§è¡Œ~</font></p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬ç”¨ä»£ç æ¥æ¼”ç¤ºä¸€é<code>async</code>å’Œ<code>await</code>çš„ä½¿ç”¨ï¼ˆçº¢ç»¿ç¯æ¡ˆä¾‹ï¼‰</p>
<pre><code>        function timer(color, delay) {
            //è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡
            return new Promise((reslove, reject) =&gt; {
                console.log(color)
                setTimeout(() =&gt; {
                    reslove()
                }, delay)
            })
        }

        async function light() {
            await timer('green', 1000)
            await timer('yellow', 2000)
            await timer('red', 3000)

            await light()
        }
        light()
</code></pre>
<p>è¿™æ ·å°±å®ç°äº†ä¸€ä¸ªç®€å•çš„çš„çº¢ç»¿ç¯ç³»ç»Ÿï¼Œé€šè¿‡è¿è¡Œï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°æ•´ä¸ªå‡½æ•°æ˜¯ä»¥åŒæ­¥çš„æ–¹å¼å‘ä¸‹æ‰§è¡Œçš„ã€‚<br>
è€Œè¦æ·±ç©¶å…¶ä¸­çš„åŸç†ï¼Œæˆ‘ä»¬å‘ç°<code>Generator</code>å‡½æ•°å¯ä»¥å®ç°è¿™ä¸ªè¿‡ç¨‹</p>
<h1 id="ä»€ä¹ˆæ˜¯generatorå‡½æ•°">ä»€ä¹ˆæ˜¯Generatorå‡½æ•°</h1>
<p><code>Generator</code>å‡½æ•°æ˜¯ç”±ES6è¯­æ³•æä¾›çš„ä¸€ç§å¼‚æ­¥ç¼–ç¨‹è§£å†³æ–¹æ¡ˆã€‚</p>
<p>å¦‚ä½•ç†è§£<code>Generator</code>å‘¢ï¼Ÿ<br>
<code>Generator</code>å‡½æ•°åœ¨è‡ªå·±çš„å‡½æ•°å†…éƒ¨æœ‰å¤šä¸ªâ€œæ–­ç‚¹â€ï¼Œå¿…é¡»æ‰‹åŠ¨çš„è°ƒç”¨next()æ–¹æ³•æ‰èƒ½æ‰§è¡Œä¸‹ä¸€æ­¥ï¼Œè¿™æ ·çš„æ¨¡å¼å…è®¸æˆ‘ä»¬è‡ªå¦‚åœ°å»æš‚åœ/æ‰§è¡Œå‡½æ•°é‡Œé¢çš„ä»£ç (å¯ä»¥ä¸â€œæŒ¤ç‰™è†â€è¿›è¡Œç±»æ¯”)</p>
<p>ä¸‹é¢æˆ‘ä»¬æ¥èŠä¸€ä¸‹<code>Generator</code>å‡½æ•°çš„ç‰¹å¾ï¼š</p>
<p>â‘  functionå…³é”®å­—å’Œå‡½æ•°åä¹‹é—´æœ‰ä¸€ä¸ª*<br>
(function* generatorDemo() {})<br>
â‘¡ å†…éƒ¨ä½¿ç”¨<code>yield</code>è¿›è¡ŒçŠ¶æ€æ§åˆ¶<br>
â‘¢ ä½¿ç”¨<code>next</code>æ‰§è¡Œä¸‹ä¸€æ­¥æ“ä½œç›´åˆ°é‡åˆ°<code>yield</code>å…³é”®å­—æˆ–è€…<code>return</code></p>
<p>æˆ‘ä»¬é€šè¿‡ç®€å•çš„ä»£ç æ¥å±•ç¤ºä¸€ä¸‹</p>
<pre><code>function* generatorLight() {
        let value1 = yield 'green'
        let value2 = yield 'yellow'
        let value3 = yield 'red'
        console.log(value1 + ' ' + value2 +  ' ' + value3)
    }

    let light = generatorLight();
    console.log(light.next()) 
    console.log(light.next())
    console.log(light.next())
    console.log(light.next()) 
</code></pre>
<p>åœ¨ä¸Šæ–¹ä»£ç ä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨<code>generatorLight()</code>å¹¶ä¸æ˜¯æ‰§è¡Œäº†è¯¥å‡½æ•°ï¼Œè€Œæ˜¯è¿”å›äº†ä¸€ä¸ªæŒ‡å‘å†…éƒ¨çŠ¶æ€çš„<font color="red">æŒ‡é’ˆå¯¹è±¡</font>ã€‚é€šè¿‡<code>next()</code>æ–¹æ³•æ¥ä½¿æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªçŠ¶æ€ã€‚</p>
<p>æ¯ä¸€æ¬¡nextæ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼š</p>
<pre><code>    {
        value: xxx
        done:  true/false //æŒ‡é’ˆæ˜¯å¦æŒ‡å‘äº†å‡½æ•°æœ«å°¾ å³å‡½æ•°æ˜¯å¦æ‰§è¡Œå®Œæ¯•
    },
</code></pre>
<p>å…¶ä¸­ï¼Œ<code>value</code>ä»£è¡¨<code>yield</code>åé¢è¡¨è¾¾å¼è¿”å›çš„å€¼ï¼Œå¦‚æœé‡åˆ°<code>return</code>ï¼Œåˆ™å°†<code>return</code>åè·Ÿçš„è¡¨è¾¾å¼çš„å€¼ä½œä¸º<code>value</code>çš„å€¼ã€‚(å¦‚æœå‡½æ•°æ²¡æœ‰<code>return</code>, åˆ™<code>value</code>çš„å€¼ä¸º<code>undefined</code>)<br>
<code>done</code>è¡¨ç¤ºæŒ‡é’ˆæ˜¯å¦éå†å®Œæ‰€æœ‰çš„<code>yield</code>å¯¹è±¡ï¼Œé‡åˆ°<code>return</code>æˆ–è€…å‡½æ•°ç»“æŸæ—¶ï¼Œè¿”å›<code>true</code>(å…¶ä½™éƒ½ä¸º<code>false</code>)ã€‚</p>
<p>howeverï¼Œé€šè¿‡æ‰§è¡Œä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°<code>console.log(value1 + ' ' + value2 + ' ' + value3);</code>çš„è¾“å‡ºç»“æœæ˜¯â€œundefined undefined undefinedâ€ã€‚è¿™æ˜¯å› ä¸º<code>yield</code>æœ¬èº«çš„è¿”å›å€¼æ˜¯<code>undefined</code>ã€‚ å¦‚æœæˆ‘ä»¬éœ€è¦ä¸Šä¸€æ­¥çš„<code>yield</code>çš„è¿”å›å€¼ï¼Œæˆ‘ä»¬éœ€è¦å°†ä¸Šä¸€æ­¥çš„è¿”å›å€¼ä¼ å…¥<code>next()</code>ä¸­</p>
<pre><code>function* generatorLight() {
        let value1 = yield 'green'
        let value2 = yield 'yellow'
        let value3 = yield 'red'
        console.log(value1 + ' ' + value2 +  ' ' + value3)
    }

    let light = generatorLight()
    let res1 = light.next()
    let res2 = light.next(res1.value)
    let res3 = light.next(res2.value)
    light.next(res3.value)
</code></pre>
<p>è¿™æ ·å°±å¯ä»¥å¾—åˆ°è¿™æ ·çš„ç»“æœï¼šâ€œgreen yellow redâ€</p>
<p>å¯æ˜¯æˆ‘ä»¬å‘ç°ï¼Œ<code>Generator</code>éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨çš„å»ä¸€æ¬¡æ¬¡æ‰§è¡Œï¼Œä½†åˆšåˆšå®ç°çš„çº¢ç»¿ç¯ç³»ç»Ÿå´å¯ä»¥è‡ªåŠ¨æ‰§è¡Œï¼Œä¸ºäº†è®©<code>Generator</code>ä¹Ÿèƒ½å¤Ÿè‡ªåŠ¨æ‰§è¡Œï¼Œæˆ‘ä»¬åº”è¯¥å¼•å…¥<code>Thunk</code>å‡½æ•°çš„æ€æƒ³</p>
<h1 id="ä»€ä¹ˆæ˜¯thunkå‡½æ•°">ä»€ä¹ˆæ˜¯Thunkå‡½æ•°</h1>
<p><code>Thunk</code>å‡½æ•°æ˜¯æŒ‡å°†ä¸€ä¸ªå¤šå‚æ•°å‡½æ•°æ›¿æ¢æˆä¸€ä¸ªåªæ¥å—<font color="red">å›è°ƒå‡½æ•°</font>ä½œä¸ºå‚æ•°çš„å•å‚æ•°å‡½æ•°ã€‚</p>
<p>ä¸‹é¢é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥ä½“ç°<code>Thunk</code>å‡½æ•°çš„æ€æƒ³</p>
<pre><code> // åŸå‡½æ•°
    readFile(fileName, callback)

    // thunkå‡½æ•°
    function thunk(fileName) {
        return function(callback) {
            return readFile(fileName, callback)
        }
    }

    let file = thunk('a.text')
    file(callback)
</code></pre>
<p>è¿™ä¸ªä¾‹å­åªæ˜¯ä»…ä»…è¯´æ˜<code>thunk</code>çš„æ€æƒ³ï¼Œ æ¥ä¸‹æ¥æˆ‘ä»¬è¦ç”¨<code>thunk</code>çš„æ€æƒ³æ¥åŒ…è£…<code>Generator</code>å‡½æ•°ï¼Œä½¿å®ƒå¯ä»¥è‡ªåŠ¨æ‰§è¡Œã€‚</p>
<pre><code>         // Generatorå‡½æ•°
        function* generatorLight() {
        let value1 = yield 'green'
        let value2 = yield 'yellow'
        let value3 = yield 'red'
        console.log(value1 + ' ' + value2 +  ' ' + value3)
    }

        // thunkåŒ…è£…
        function Thunk(fn) {
            const light = fn()

            function next(data) {
                let res = light.next(data)
                if (res.done) {
                    return res.value
                }
                next(res.value)
            }
            next(undefined)
        }

        Thunk(generatorLight)
</code></pre>
<p>æˆ‘ä»¬åœ¨<code>Thunk</code>å†…éƒ¨å®šä¹‰äº†ä¸€ä¸ª<code>next</code>å‡½æ•°ã€‚é€šè¿‡é€’å½’æ¥è¿›è¡Œè‡ªåŠ¨æ‰§è¡Œ</p>
<h1 id="å®ç°asyncawait">å®ç°async/await</h1>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨<code>Generator</code>å‡½æ•°æ¥å®ç°<code>async/await</code></p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å†æ¥å›é¡¾ä¸€ä¸‹ä¹‹å‰çš„ä»£ç </p>
<pre><code>        function timer(color, delay) {
            //è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡
            return new Promise((reslove, reject) =&gt; {
                console.log(color)
                setTimeout(() =&gt; {
                    reslove()
                }, delay)
            })
        }

        async function light() {
            await timer('green', 1000)
            await timer('yellow', 2000)
            await timer('red', 3000)

            await light()
        }
        light()
</code></pre>
<p>æˆ‘ä»¬å…ˆå°†<code>light</code>å‡½æ•°æ”¹é€ æˆ<code>Generator</code>å‡½æ•°</p>
<pre><code>function* light() {
             yield timer('green', 1000)
             yield timer('yellow', 2000)
             yield timer('red', 3000)

             light()
        }
</code></pre>
<p>æ¥ç€ï¼Œæˆ‘ä»¬å†æ¥å®ç°<code>Thunk</code>å‡½æ•°</p>
<pre><code>   function Thunk(fn) {
       return new Promise((resolve, reject) =&gt; {
           const light = fn()
           function next(data) {
               let res = light.next(data)
               if (res.done) {
                   return resolve(res.value)
               }
               Promise.resolve(res.value).then(res =&gt; {
                   next(res)
               })
           }
           next(undefined)
       })
   }
</code></pre>
<p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±å¯ä»¥å®ç°<code>asyncã€await</code>çš„åŠŸèƒ½äº†ï¼Œè¦æ³¨æ„çš„æ˜¯ï¼Œ<font color="red"><code>light</code>çš„é€’å½’éœ€è¦ä½¿ç”¨Thunk(light)!</font><br>
å®Œæ•´ä»£ç å¦‚ä¸‹</p>
<pre><code>function timer(color, delay) {
            //è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡
            return new Promise((reslove, reject) =&gt; {
                console.log(color)
                setTimeout(() =&gt; {
                    reslove()
                }, delay)
            })
        }

       function* light() {
             yield timer('green', 1000)
             yield timer('yellow', 2000)
             yield timer('red', 3000)
             //lighté€’å½’
             Thunk(light)
        }

    function Thunk(fn) {
       return new Promise((resolve, reject) =&gt; {
           const light = fn()
           function next(data) {
               let res = light.next(data)
               if (res.done) {
                   return resolve(res.value)
               }
               Promise.resolve(res.value).then(res =&gt; {
                   next(res)
               })
           }
           next(undefined)
       })
   }

   Thunk(light)
</code></pre>
]]></content>
    </entry>
</feed>